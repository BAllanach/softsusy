\documentclass[final,3p,times,pdflatex]{elsarticle}
\usepackage{axodraw}

\bibstyle{elsarticle-num}

% beginning of macros
\def\SOFTSUSY{{\tt SOFTSUSY}}
\def\code#1{\small{\tt #1}\normalsize}
\newcommand{\nn}{\nonumber}
\newcommand{\be}{\begin{equation}}
\newcommand{\ee}{\end{equation}}
\newcommand{\ba}{\begin{eqnarray}}
\newcommand{\ea}{\end{eqnarray}}
\newcommand{\Zv}{{\mbox{${\not\!\!Z_3}$}}}
\newcommand{\ds}{\displaystyle}
% end of macros

\journal{Computer Physics Communications}

\begin{document}

\begin{frontmatter}

\title{Next-to-Minimal SOFTSUSY}

\author{B.C.~Allanach}
\address{DAMTP, CMS, University of Cambridge, Wilberforce road, Cambridge, CB3
  0WA, United Kingdom}

\author{P.~Athron}
\author{L.~Tunstall}
\author{A.G.~Williams}
\address{Department of Physics, North Terrace, University of Adelaide,
  Adelaide SA 5005, Australia}

\author{A.~Voigt}
\address{Dipl.-Phys. Alexander Voigt,
Institut für Kern- und Teilchenphysik,
Helmholtzstraße 10, 
D-01069 Dresden,
Germany}
\begin{abstract}
  Here, we describe an extension to the
  {\tt SOFTSUSY}~program to calculate the sparticle spectrum in the
  {\em next-to-minimal} supersymmetric standard model, where a chiral
  superfield that is a singlet of the Standard Model gauge group is added to
  the minimal supersymmetric standard model fields. 
  The user provides a theoretical boundary condition upon the couplings and
  masses of the singlet.
  Successful radiative electroweak symmetry breaking,
  electroweak and CKM matrix data are used
  as weak-scale boundary conditions. 
  The renormalisation group equations are solved
  numerically between the weak scale and a high energy scale using a nested
  iterative algorithm. 
  This paper serves as a manual to the
  next-to-minimal mode of the program, detailing the approximations and
  conventions used. 
\end{abstract}

\begin{keyword}
sparticle, 
MSSM
\PACS 12.60.Jv
\PACS 14.80.Ly
\end{keyword}
\end{frontmatter}

\section{Program Summary}
\noindent{\em Program title:} \SOFTSUSY{}\\
{\em Program obtainable
  from:} {\tt http://projects.hepforge.org/softsusy/}\\
{\em Distribution format:}\/ tar.gz\\
{\em Programming language:} {\tt C++}, {\tt fortran}\\
{\em Computer:}\/ Personal computer\\
{\em Operating system:}\/ Tested on Linux 4.x\\
{\em Word size:}\/ 32 bits\\
{\em External routines:}\/ None\\
{\em Typical running time:}\/ a few seconds per parameter point.\\
{\em Nature of problem:}\/ Calculating supersymmetric particle spectrum and
mixing parameters in the next-to-minimal minimal supersymmetric standard
model. The solution to the renormalisation group equations must be consistent
with boundary conditions on supersymmetry breaking parameters, as
well as a weak-scale boundary condition on gauge 
couplings, Yukawa couplings and the Higgs potential parameters.\\
{\em Solution method:}\/ Nested iterative algorithm and numerical minimsation
of the Higgs potential. \\
{\em Restrictions:} {\SOFTSUSY} will provide a solution only in the
perturbative r\'{e}gime and it
assumes that all couplings of the model are real
(i.e.\ $CP-$conserving). The iterative \SOFTSUSY~algorithm will not 
converge if parameters are too close to a boundary of successful electroweak
symmetry breaking, but a warning flag will alert the user to this fact.

\newpage

\section{Introduction}

\section{NMSSM Parameters \label{sec:notation}}

In this section, we introduce the NMSSM parameters
in the \SOFTSUSY~conventions. The translations to the actual variable
names that are being used in the program code are shown explicitly in
~\ref{sec:objects}. 



\subsection{Supersymmetric parameters \label{susypars}}
The chiral superfield particle content of the NMSSM has the 
following $SU(3)_c\times SU(2)_L\times U(1)_Y$ quantum numbers:
\begin{eqnarray}
\hat{L}:&(1,2,-\frac{1}{2}),\quad \hat{{\bar E}}:&(1,1,1),\qquad\, \hat{Q}:\,(3,2,\frac{1}{6}),\quad
\hat{{\bar U}}:\,(\bar 3,1,-\frac{2}{3}),\nonumber\\ \hat{{\bar D}}:&(\bar 3,1,\frac{1}{3}),\quad
\hat{H}_1:&(1,2,-\frac{1}{2}),\quad \hat{H}_2:\,(1,2,\frac{1}{2}),\quad \hat{S}:\,(1,1,0)
\label{fields}
\end{eqnarray}
$\hat S$ is the Higgs singlet that is particular to the NMSSM.
$\hat L$, $\hat Q$, $\hat H_1$, and $\hat H_2$ are the left handed doublet lepton and
quark superfields and the two Higgs doublets. $\hat{\bar E}$, $\hat{\bar U}$, and
$\hat{\bar D}$ are the lepton, up-type quark and down-type quark
right-handed superfield singlets, respectively. 
Note that the lepton
doublet superfields $\hat{L}^a_i$ and the Higgs doublet superfield coupling
to the down-type quarks, $\hat{H}_1$, have the same SM gauge 
quantum numbers. 
Here, we denote an $SU(3)$ colour index of the fundamental
representation by  $\{x,y,z\} \in \{1,2,3 \}$. The $SU(2)_L$ fundamental
representation indices are denoted by $\{a,b,c\} \in \{1,2\}$ and the generation
indices by $\{i,j,k\} \in \{1,2,3\}$. 
$\epsilon_{xyz}=\epsilon^{xyz}$ and  $\epsilon_{ab}=\epsilon^{ab}$ are totally
antisymmetric tensors, with $\epsilon_{123}=1$ and $\epsilon_{12}=1$,
respectively.  Currently, only real couplings in the superpotential and Lagrangian are included. 

The full renormalisable, $R-$parity conserving superpotential is given by,
\ba 
 W_{\Zv}  &=&  \epsilon_{ab} \left[ (Y_E)_{ij} \hat L_i^b
\hat H_1^a \hat{\bar E}_j + (Y_D)_{ij} \hat Q_i^{bx} \hat H_1^a \hat{\bar D}_{jx} +
(Y_U)_{ij} \hat Q_i^{ax} \hat H_2^b \hat{\bar U}_{jx} 
+(\lambda \hat{S} + \mu)(\hat{H}^a_2 \hat{H}^b_1) \right ] +\frac{1}{3}\kappa\hat{S}^3 + \zeta_F\hat{S} + \frac{1}{2} \mu^\prime\hat{S}^2 \\
 &=& W_{MSSM}^{\mu =0}  +  \epsilon_{ab}\left [(\lambda \hat{S} + \mu)(\hat{H}^a_2 \hat{H}^b_1) \right ]+\frac{1}{3}\kappa\hat{S}^3 + \zeta_F\hat{S} + \frac{1}{2} \mu^\prime\hat{S}^2. 
\label{eq:WZ3V}
\ea
 
\noindent where we have used the subscript \Zv to reflect that this superpotential contains terms which violate the $Z_3$ symmetry which is imposed on the NMSSM in it's most common form.  Imposing the $Z_3$ symmetry restricts the superpotential to,

\ba 
 W_{Z_3} &=& \epsilon_{ab} \left[ (Y_E)_{ij} \hat L_i^b
\hat H_1^a \hat{\bar E}_j + (Y_D)_{ij} \hat Q_i^{bx} \hat H_1^a \hat{\bar D}_{jx} +
(Y_U)_{ij} \hat Q_i^{ax} \hat H_2^b \hat{\bar U}_{jx}  
+\lambda \hat{S}(\hat{H}^a_2 \hat{H}^b_1) \right ]+\frac{1}{3}\kappa\hat{S}^3 \\
 &=& W_{MSSM}^{\mu =0}  + \epsilon_{ab} \lambda \hat{S} (\hat{H}^a_2 \hat{H}^b_1) +\frac{1}{3}\kappa\hat{S}^3.
\label{eq:WZ3C}
\ea


\noindent The $Z_3$ NMSSM superpotential contains no explicit mass parameter, thereby allowing a solution to the $\mu$-problem when the singlet field picks up a VEV and generates an effective $\mu$ term of the right size.   As such it is sometimes referred to as the scale invariant NMSSM in the literature.  Here we will always write $Z_3$-NMSSM for the $Z_3$ conserving case and \Zv-NMSSM for the general $Z_3$ violating one. 


\subsection{Next-to-Minimal SUSY breaking parameters \label{sec:susybreak}}
The soft breaking scalar potential is given by,

\be V_{soft} = V_3 + V^{m_3^2 = 0}_2 + m_S^2|S|^2 + \epsilon_{ab} a_\lambda S H^a_2 H^b_1 + \frac{1}{3} a_\kappa S^3 + V_\Zv \ee where all \Zv terms are included in,
\ba V_\Zv & = & \frac{1}{2}m_S^{\prime \, 2} S^2 + \xi_S S + \epsilon_{ab} m_3^2 H_2^a H_1^b + \textrm{H.c.} \ea while $V_3$ and $V_2$ are the trilinear scalar interaction potential and scalar bilinear SUSY breaking potential of the MSSM, given in the original SOFTSUSY manual for the $R$-parity conserving MSSM\cite{Allanach:2001kg}.   The superscript on $V^{m_3^2 = 0}_2$ indicates that the \Zv soft bilinear mass $m_3^2$ present in $V_2$ is set to zero so that it is not double counted. 

%% \be V_{soft} = V_3 + V_2 + V_\Zv \ee where
%% \ba V_3 & = & V^{MSSM}_3 + \epsilon_{ab} a_\lambda S H^a_2 H^b_1 + \frac{1}{3} a_\kappa S^3 \\
%% V_2  & = & V^{MSSM}_2 + m_S^2|S|^2  \\
%% V_\Zv & = & \frac{1}{2}m_S^{\prime \, 2} S^2 + \xi_S S + \textrm{H.c.} \ea
%% \noindent and in the case of $Z_3$ conservation the soft potential reduces to,
%% \be V_{soft} = V_3 + V^{m_3^2 = 0}_2 \ee with the superscript indicationg that the \Zv soft bilinear mass $m_3^2$ present in $V^{MSSM}_2$ is set to zero.    

\subsection{Higgs potential and EWSB\label{sec:hpot}}
The tree level Higgs potential is given by,
\ba V_{Higgs} & = & V^H_F + V^H_D + V_{\rm soft}^H  \\
            & = & V^{\mu=0}_{MSSM} + V^{HN}_{F} + V_{\rm soft}^{HN}\ea where 
\ba  V^{HN}_{F} & = &  |\lambda S + \mu|^2 (|H_2|^2+|H_1|^2) + |\lambda H_2H_1
+\kappa S^2 + \mu^\prime S + \xi_S|^2  , \label{eq:HpotF} \\
 V_{\rm soft}^{HN}  & = &  m_S^2|S|^2
+ [\lambda A_{\lambda}SH_2H_1+\frac{1}{3}\kappa A_{\kappa}S^3+ \ds\frac{1}{2}m_S^{\prime \, 2} S^2 + \xi_S S + \textrm{H.c.} ], 
\label{eq:HpotS} \ea

The three neutral Higgs fields then pick up vacuum expectation values,  
\be 
        \langle H_1 \rangle = \ds\frac{1}{\sqrt{2}}{v_1 \choose 0}, 
\qquad  \langle H_2 \rangle = \ds\frac{1}{\sqrt{2}}{0 \choose v_2}, 
\qquad  \langle S \rangle =  \ds\frac{1}{\sqrt{2}}s, \label{eq:potmin} \ee
  
\noindent and the minimisation conditions relate the VEVs to the soft masses,
\ba m_{H_1}^2&=& -\frac{1}{2}M_Z^2 \cos(2\beta) - \ds\frac{1}{2}\lambda^2 v_2^2
 + (m_3^2)_\textrm{eff} \tan\beta 
- |\mu_\textrm{eff}|^2, \label{eq:mind}\\
m_{H_2}^2&=& \frac{1}{2}M_Z^2 \cos(2\beta) - \ds\frac{1}{2}\lambda^2 v_1^2 
+  \frac{(m_3^2)_\textrm{eff}}{\tan\beta} 
- |\mu_\textrm{eff}|^2 , \label{eq:minu} \\
m_S^2 &=& -\kappa^2 s^2 - \ds\frac{1}{2}\lambda^2v^2 + \kappa\lambda v_2v_1
+ \lambda A_{\lambda} \frac{v_2v_1}{\sqrt{2}s}
-\kappa A_{\kappa}s  - m^{\prime \,2}_S - \mu^{\prime \,2} + 2 \kappa \xi_F  - 3 \kappa s \mu^\prime \label{eq:mins}
\ea where $\tan \beta = v_2 /  v_1$. %% $\bar g = \sqrt{g^2+g^{\prime 2}}$ and $g$ and $g^{\prime}$
%% are the gauge couplings of $SU(2)_L$ and $U(1)$ interactions
%% respectively, with $g = g_2$ and $g^\prime = \sqrt{3/5} \, g_1$.
For simplicity we have introduced,
\be (m_3^2)_\textrm{eff} = \ds\frac{ \lambda s}{\sqrt{2}} B_\textrm{eff} + \widehat{m}_3^2 \ee and
\be  \mu_\textrm{eff} = \mu + \lambda \frac{s}{\sqrt{2}} \;\;\;\; B_\textrm{eff}\equiv A_\lambda+\ds\frac{\kappa s}{\sqrt{2}} \;\;\;\; \widehat{m}_3^2 = m_3^2 + \lambda (\ds\frac{\mu^\prime s}{\sqrt{2}} + \xi_F) \ee



%% Eq.(\ref{eq:mind}, \ref{eq:minu}) can be rewritten as
%% \begin{eqnarray}
%% 	\mu_\textrm{eff}^2&=&\frac{\overline{m}_{H_1}^2-\overline{m}_{H_2}^2t^2}{t^2-1}-\frac{1}{2}\overline{M}_z^2,\label{nmssm_mu}\\
%% 	 (m_3^2)_\textrm{eff}&=&\frac{1}{2}\sin{2\beta}\left(\overline{m}_{H_2}^2+\overline{m}_{H_1}^2+ 2\mu_\textrm{eff}^2\left(1+\frac{\overline{M}_z^2}{\overline{g}^2s^2}\right)\right)\label{nmssm_bmu}
%% \end{eqnarray}
%% with  and we have also defined, 
%% \ba \overline{m}^2_{H_1} &=&  m^2_{H_1} - \frac{1}{v_1}\frac{\partial \Delta V}{\partial v_1}, \quad
%%  \overline{m}^2_{H_2} =  m^2_{H_2} - \frac{1}{v_2}\frac{\partial \Delta V}{\partial v_2}, \quad
%% \overline{M}_Z^2 = M_Z^2 + {\mathcal Re}\Pi_{ZZ}^T. \ea.
 

\subsection{Tree-level masses \label{sec:tree}}
The chargino and sfermion masses are given by the same expressions as in the MSSM with $\mu \rightarrow \mu_\textrm{eff}$. 

The Lagrangian contains the neutralino mass matrix as
$-\frac{1}{2}
{\tilde\psi^0}{}^T{\cal M}_{\tilde\psi^0}\tilde\psi^0$ + h.c., where
$\tilde\psi^0 =$ $(-i\tilde b,$ $-i\tilde w^3,$ $\tilde h_1,$ $\tilde
h_2, \tilde{s})^T$ and
%The Neutralinos mass matrix is, 
\begin{equation}
{\cal M}_{\tilde\psi^0} \ =\ \left(\begin{array}{ccccc} 
M_1 & 0 &-M_Zc_\beta s_W & M_Zs_\beta s_W & 0 \\
 0 & M_2 & M_Zc_\beta c_W & -M_Zs_\beta c_W & 0 \\ 
-M_Zc_\beta s_W & M_Zc_\beta c_W & 0 & -\mu & -\lambda v_2 \\
M_Zs_\beta s_W & -M_Zs_\beta c_W & -\mu & 0 & - \lambda v_1 \\
0 & 0 & 0 & 0 & 2 \kappa s + \mu^\prime
\end{array} \right). \label{mchi0}
\end{equation} 
We use $s$ and $c$ for sine and cosine, so that
$s_\beta\equiv\sin\beta,\ c_{\beta}\equiv\cos\beta$ and $s_W (c_W)$ is
the sine (cosine) of the weak mixing angle.  

The 5 by 5 neutralino mixing matrix is an orthogonal matrix $O$ with real
entries,  such that $O^T {\cal M}_{\tilde\psi^0} O$ is diagonal.
The neutralinos $\chi^0_i$ are defined such that their absolute masses
increase with increasing $i$. Some of their mass values can be negative. 

The CP-even gauge eigenstates $(H^0)^T = (H_1^0,\, H_2^0, \, S)$ are rotated into mass eigenstates by,
\be h^0 = R H^0, \ee with the mass matrix appearing in the Lagrangian as  $-(H^0)^T M_H^0 H^0$ and is given by,
\be
M_{H^0}^2=
\left(
\begin{array}{ccc}
\ds\frac{\partial^2 V}{\partial^2 v_1 } - \ds\frac{1}{v_1}\frac{\partial V}{\partial v_1}&
\ds\frac{\partial^2 V}{\partial v_1 \partial v_2}&
\ds\frac{\partial^2 V}{\partial v_1 \partial s}\\[0.3cm]
\ds\frac{\partial^2 V}{\partial v_2 \partial v_1}&
\ds\frac{\partial^2 V}{\partial^2 v_2} - \ds\frac{1}{v_2}\frac{\partial V}{\partial v_2}&
\ds\frac{\partial^2 V}{\partial v_2 \partial s}\\[0.3cm]
\ds\frac{\partial^2 V}{\partial s \partial v_1}&
\ds\frac{\partial^2 V}{\partial s \partial v_2}&
\ds\frac{\partial^2 V}{\partial^2 s} - \ds\frac{1}{s}\frac{\partial V}{\partial s},
\end{array} 
\right)
 \ee

where we have rewritten the elements of $M_{H^0}^2$ by imposing tree level EWSB substitution on the the double derivatives of the effective potential, which is equivalent to defining,  \be(M_{H^0}^2)_{ij} \equiv  \ds\frac{\partial^2 V}{\partial v_i \partial v_j} - \ds\frac{\delta_{ij}}{v_i}\ds\frac{\partial V}{\partial v_i}, \ee with $v_3 \equiv s$.  The elements are then given as follows,   

\ba
 (M_{H^0}^2)_{11} & = & M_Z^2 c_\beta^2 + (\ds\frac{\lambda s}{\sqrt{2}} B_\textrm{eff} +
\widehat{m}_3^2)\,\tan\beta,\\
 (M_{H^0}^2)_{12} & = & (4\lambda^2 - \bar{g}^2) \ds\frac{v_2 v_1 }{4}- 
\ds\frac{\lambda s}{\sqrt{2}} B_\textrm{eff} - \widehat{m}_3^2, \\ 
 (M_{H^0}^2)_{13} & = & \lambda (2 \mu_\textrm{eff}\,\ds\frac{ v_1}{\sqrt{2}} -
(B_\textrm{eff} + \kappa s + \mu')\ds\frac{ v_2}{\sqrt{2}}),\\
 (M_{H^0}^2)_{22} & = & M_Z^2 s_\beta^2 + (\ds\frac{\lambda s}{\sqrt{2}} B_\textrm{eff} +
\widehat{m}_3^2)/\tan\beta\, \\
 (M_{H^0}^2)_{23} & = & \lambda (2 \mu_\textrm{eff}\, \ds\frac{ v_2}{\sqrt{2}} -
(B_\textrm{eff} + \frac{\kappa s}{\sqrt{2}} + \mu')\ds\frac{ v_1}{\sqrt{2}}), \\
 (M_{H^0}^2)_{33} & = & \ds\frac{1}{\sqrt{2}}\lambda (A_\lambda + \mu') \frac{v_2 v_1}{s}
+ \frac{\kappa s}{\sqrt{2}} (A_\kappa + 4\frac{\kappa s}{\sqrt{2}}+ 3 \mu') - \sqrt{2}(\xi_S + \xi_F \mu')/s.
\label{eq:MH0}
\ea

The three imaginary components of the neutral Higgs fields $(H^I)^T = (H^I_1, H_2^I, S^I)$ mix to give the two physical CP odd bosons and the goldstone boson, $a^T = (G^0, A_1, A_2)$, with the two bases related by,
 \be a = P H^I \ee where $P$ matches the conventions of \cite{Degrassi:2009yq} and stripping the first row from $P$ leaves the 2 by 3 mixing matrix for the physical CP-odd Higgs bosons in SLHA2 conventions\cite{Allanach:2008qq}. Following the review of Ellwanger et al \cite{Ellwanger:2009dp} we write the entries of the 3 by 3 mass matrix in the $H^I$ basis, $ M^{\prime \, 2}_{P}$, after imposing tree level EWSB as,
\ba
( M^{\prime \, 2}_{P})_{11} & = & (\ds\frac{\lambda s}{\sqrt{2}} B_\textrm{eff} +
\widehat{m}_3^2)\,\tan\beta , \\
( M^{\prime \, 2}_{P})_{12} & = & \ds\frac{\lambda s}{\sqrt{2}} B_\textrm{eff} +
\widehat{m}_3^2, \\
( M^{\prime \, 2}_{P})_{13} & = & \lambda v_u (A_\lambda - 2\kappa s - \mu'), \\
( M^{\prime \, 2}_{P})_{22} & = & (\ds\frac{\lambda s}{\sqrt{2}} B_\textrm{eff} +
\widehat{m}_3^2)/\tan\beta ,  \\
( M^{\prime \, 2}_{P})_{23} & = & \lambda v_d (A_\lambda - 2\kappa s - \mu')\\
( M^{\prime \, 2}_{P})_{33} & = & \lambda (B_\textrm{eff}+3\kappa s +\mu')\ds\frac{v_u
v_d}{s} -3\kappa A_\kappa s  -2 m_{S}'^2 -\kappa \mu' s 
-\xi_F\left(4\kappa + \frac{\mu'}{s}\right) -\ds\frac{\xi_S}{s}.
\label{eq:MA0}
\ea

Note that the mixing of the goldstone boson, $G^0$ only depends on $\tan\beta$, as in the MSSM, as can be seen by first rotating by $\beta$, leaving a 2 by 2 block diagonal which may then be diagionalised as is shown in \cite{Ellwanger:2009dp}.  Therefore the CP-odd mixing can be stored as a single mixing angle $\theta_{HP}$ which SOFTSUSY does internally in the sPhysical object.



  

\section{Calculation Algorithm \label{sec:calculation}}


\begin{figure}
\begin{center}
\begin{picture}(323,245)
\put(10,0){\makebox(280,10)[c]{\fbox{7.\ Calculate Higgs and
      sparticle pole masses. Run to $M_Z$.}}}
\put(10,40){\makebox(280,10)[c]{\fbox{6.\ Run to $M_Z$.}}}
\put(150,76.5){\vector(0,-1){23}}
\put(10,80){\makebox(280,10)[c]{\fbox{5.\ Run to $M_X$. Apply soft breaking
and NMSSM SUSY boundary conditions.}}}
\put(150,116.5){\vector(0,-1){23}}
\put(10,120){\makebox(280,10)[c]{\fbox{4.\ EWSB, iterative solution of $\mu$ and sneutrino VEVs.}}}
\put(150,156){\vector(0,-1){23}}
\put(10,160){\makebox(280,10)[c]{\fbox{3.\ Run to $M_S$.}}}
\put(30,170){convergence}
\DashLine(115,165)(0,165){5}
\DashLine(0,165)(0,5){5}
\DashLine(0,5)(30,5){5}
\put(30,5){\vector(1,0){2}}
\put(150,197){\vector(0,-1){24}}
\put(150,239){\vector(0,-1){26}}
\put(60,245){\fbox{1.\ SUSY radiative corrections to
$g_i(M_Z)$}}
\put(10,200){\makebox(280,10)[c]{\fbox{2.\ $Y_E$, $Y_D$ include $v_k$
      contributions. Iterative solution of $Y_E$.}}} 
\put(182,45){\line(1,0){161}}
\put(343,45){\line(0,1){200}}
\put(343,245){\vector(-1,0){115}}
\end{picture}
\end{center}
\caption{Iterative algorithm used to calculate the NMSSM spectrum. 
The initial step is the
uppermost one. $M_S$ is the scale at which the EWSB
conditions 
are imposed, as discussed in the text. $M_X$ is the scale at which the high
energy SUSY breaking boundary conditions are imposed.
\label{fig:algorithm}}
\end{figure}


\subsection{Running of NMSSM couplings~\label{running}}
The program 
can be made to run faster by switching off the two-loop renormalisation of 
the scalar masses and tri-linear scalar couplings. All
$\beta$ functions are real and include inter-generational quark mixing
effects. 

\subsection{Electroweak symmetry breaking \label{ewsb}}


\subsection{NMSSM spectrum \label{spec}}



\section*{Acknowledgments}
This work has been partially supported by 
STFC\@. 


\appendix

\section{Running \SOFTSUSY}
\label{sec:run}

\SOFTSUSY~produces an executable called \code{softpoint.x}. For the calculation
of the spectrum of single points in parameter space, we recommend the
SUSY Les Houches Accord 2 (SLHA2)~\cite{Allanach:2008qq}  input/output
option. The user must provide a file (\textit{e.g.} the example file included
in the \SOFTSUSY~distribution
\code{rpvHouchesInput}), that specifies the model dependent input
parameters. The program may then be run with
\small
\begin{verbatim}
 ./softpoint.x leshouches < nmssmHouchesInput
\end{verbatim}
\normalsize
For the SLHA2 input option, 
the output will also be given in 
SLHA2 format. Such output can be used for
input into other programs which subscribe to the accord, such as
\code{PYTHIA}~\cite{Sjostrand:2007gs} (for
simulating sparticle production and decays at colliders), for example. For
further details on the necessary format of 
the input file, see ref.~\cite{Allanach:2008qq}. It supports 
the setting of all other SLHA2 input blocks associated with non-complex
couplings. 

$M_{GUT}$ is used (defined to be the $\overline{DR}$ scale $Q$ at which $g_1(Q) =
g_2(Q)$). The default output is in SLHA2 format, the conventions of which are
explained in Ref.~\cite{Allanach:2008qq}. 


\section{Object Structure\label{sec:objects}}

We now go on to sketch the objects and their relationship to each other. This
is necessary information for any generalisation. Only
methods and data which are deemed of possible importance for prospective users
are 
mentioned here, but there are many others within the program itself.

\subsection{NmssmSoftsusy}
\label{nmssmsoftsusy}


\subsection{General object structure}

From an RGE point of view, data in a particular quantum field theory 
consist of a set of parameters defined at some
renormalisation scale $Q$. 
A set of $\beta$ functions describes the
evolution of the parameters and masses to a different scale
$Q'$. This concept is embodied in an {\em abstract} \code{RGE}
object, which contains the methods required to run objects of derived
classes to different renormalisation scales (their beta functions). The other
objects 
displayed in figure~\ref{fig:objstruc} are particular instances of
\code{RGE}, and therefore inherit from it. \code{QedQcd}, \code{MssmSusy},
\code{SoftParsMssm} and \code{MssmSoftsusy}~objects encode the $R_p$ part of the
MSSM and its SM input data~\cite{Allanach:2001kg}.
\code{RpvSusyPars} contains all of the supersymmetric  couplings contained
within  Eq.~(\ref{superpot1}). 
\code{RpvSoftPars}~contains the  soft supersymmetry breaking parameters
listed in 
Eqs.~(\ref{softhabertril}) and~(\ref{softhaberbil}). \code{RpvSoftsusy} is
the  $R-$parity violating
generalisation of the \code{MssmSoftsusy}~class. 
Code in
the \code{MssmSoftsusy} class organises and performs the main part of
the calculation, using polymorphism to detect the correct $\beta$ functions to
use (in this case, the $-$NMSSM $\beta$ functions). 
All of the \code{Nmssm}~objects contain default constructors
and destructors, as well as overloaded \code{>>},\code{<<}~operators for input
and output. 
There is always an implicit dependence of running RGE quantities on the
current renormalisation scale $Q$. Thus, if a method is called that returns
one of the object's couplings or masses, that object will return it at the
current scale $Q$ of the object. 
In the following, we provide basic information on the 
classes associated with , so that users may program using the class
structure of \SOFTSUSY\@. More detailed and
technical documentation on the program should be obtained from the
\SOFTSUSY~website. 


\subsection{\code{NmssmSusyPars}~class}

\begin{thebibliography}{10}
%\cite{Allanach:2001kg}
\bibitem{Allanach:2001kg} 
  B.~C.~Allanach,
  %``SOFTSUSY: a program for calculating supersymmetric spectra,''
  Comput.\ Phys.\ Commun.\  {\bf 143}, 305 (2002)
  [hep-ph/0104145].
  %%CITATION = HEP-PH/0104145;%%
  %716 citations counted in INSPIRE as of 20 Sep 2013

%\cite{Degrassi:2009yq}
\bibitem{Degrassi:2009yq} 
  G.~Degrassi and P.~Slavich,
  %``On the radiative corrections to the neutral Higgs boson masses in the NMSSM,''
  Nucl.\ Phys.\ B {\bf 825}, 119 (2010)
  [arXiv:0907.4682 [hep-ph]].
  %%CITATION = ARXIV:0907.4682;%%
  %35 citations counted in INSPIRE as of 21 Sep 2013
%\cite{Allanach:2008qq}
\bibitem{Allanach:2008qq} 
  B.~C.~Allanach, C.~Balazs, G.~Belanger, M.~Bernhardt, F.~Boudjema, D.~Choudhury, K.~Desch and U.~Ellwanger {\it et al.},
  %``SUSY Les Houches Accord 2,''
  Comput.\ Phys.\ Commun.\  {\bf 180}, 8 (2009)
  [arXiv:0801.0045 [hep-ph]].
  %%CITATION = ARXIV:0801.0045;%%
  %177 citations counted in INSPIRE as of 21 Sep 2013

%\cite{Ellwanger:2009dp}
\bibitem{Ellwanger:2009dp} 
  U.~Ellwanger, C.~Hugonie and A.~M.~Teixeira,
  %``The Next-to-Minimal Supersymmetric Standard Model,''
  Phys.\ Rept.\  {\bf 496}, 1 (2010)
  [arXiv:0910.1785 [hep-ph]].
  %%CITATION = ARXIV:0910.1785;%%
  %327 citations counted in INSPIRE as of 21 Sep 2013


\end{thebibliography}

\end{document}
